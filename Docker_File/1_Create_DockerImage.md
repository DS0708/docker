# 이미지를 생성하는 방법
- 개발한 애플리케이션을 컨테이너화할 떄 가장 먼저 생각나는 방법은 아래와 같다.

    1. 아무것도 존재하지 않는 이미지(우분투, CentOS 등)로 컨테이너 생성
    2. 애플리케이션을 위한 환경을 설치하고 소스코드 등을 복사해 잘 동작하는 것을 확인
    3. 컨테이너를 이미지로 커밋(commit)

- 이 방법을 사용하면 애플리케이션이 동작하는 환경을 구성하기 위해 일일이 패키지를 설치하고 소스코드를 Git에서 복제해야한다. 물론 컨테이너에서 애플리케이션을 구동해보고 이미지로 커밋하기 때문에 이미지의 동작은 보장할 수 있다.

- 도커는 위와 같은 일련의 과정을 쉽게 기록하고 수행할 수 있는 build 명령어를 제공하며, Dockerfile을 통해 다음과 같은 과정으로 이미지를 작성할 수 있다.
    1. Dockerfile 작성
    2. Dockerfile 빌드
- 이미지를 완성하기 위해 컨테이너에 설치해야 하는 패키지, 추가해야하는 소스코드, 실행해야 하는 명령어와 셀 스크립트 등을 하나의 파일에 기록해 두고, 도커는 이 파일을 읽어 컨테이너에서 작업을 수행한 뒤 이미지로 만들어낸다.

> 이러한 작업을 기록한 파일의 이름을 Dockerfile이라 하며, 빌드 명령어는 Dockerfile을 읽어 이미지를 생성한다. Dockerfile을 사용하면 직접 컨테이너를 생성하고 이미지를 커밋해야 하는 번거로움을 덜 수 있으며, 깃과 같은 개발 도구를 통해 애플리케이션의 빌드 및 배포를 자동화할 수 있다.

- 이외의 Dockerfile의 이점
    - Docker Hub 등을 통해 배포할 때 이미지 자체를 배포하는 대신 이미지를 생성하는 방법을 기록해 놓은 Dockerfile 배포 (실제로 도커 허브에 올려져 있는 대부분의 이미지는 Dockerfile을 함께 제공)
    - 애플리케이션에 필요한 패키지 설치 등을 명확히 할 수 있음
    - 이미지 생성 자동화
    - 쉽게 배포